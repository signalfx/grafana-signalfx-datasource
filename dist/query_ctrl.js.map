{"version":3,"sources":["../src/query_ctrl.js"],"names":["_","QueryCtrl","SignalFxQueryCtrl","$scope","$injector","lastError","panelCtrl","events","on","onDataReceived","bind","onDataError","dataList","err","replace","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACOA,a;;AACCC,qB,kBAAAA,S;;;;;;;;;;;;;;;;;;;;;yCAEFC,iB;;;AACF,2CAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,sJACrBD,MADqB,EACbC,SADa;;AAE3B,0BAAKC,SAAL,GAAiB,IAAjB;AACA,0BAAKC,SAAL,CAAeC,MAAf,CAAsBC,EAAtB,CAAyB,eAAzB,EAA0C,MAAKC,cAAL,CAAoBC,IAApB,OAA1C,EAA0EP,MAA1E;AACA,0BAAKG,SAAL,CAAeC,MAAf,CAAsBC,EAAtB,CAAyB,YAAzB,EAAuC,MAAKG,WAAL,CAAiBD,IAAjB,OAAvC,EAAoEP,MAApE;AAJ2B;AAK9B;;;;mDACcS,Q,EAAU;AACrB,6BAAKP,SAAL,GAAiB,IAAjB;AACH;;;gDAEWQ,G,EAAK;AACd,6BAAKR,SAAL,GAAiBQ,IAAIC,OAAJ,CAAY,iBAAZ,EAA+B,MAA/B,CAAjB,CAAwD;AAC1D;;;;cAb2Bb,S;;AAgBhCC,8BAAkBa,WAAlB,GAAgC,4BAAhC;;yCACQb,iB","file":"query_ctrl.js","sourcesContent":["// Copyright (C) 2019-2020 Splunk, Inc. All rights reserved.\nimport _ from \"lodash\";\nimport {QueryCtrl} from 'app/plugins/sdk';\n\nclass SignalFxQueryCtrl extends QueryCtrl {\n    constructor($scope, $injector) {\n        super($scope, $injector);\n        this.lastError = null;\n        this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n        this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n    }\n    onDataReceived(dataList) {\n        this.lastError = null;\n    }\n\n    onDataError(err) {\n       this.lastError = err.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');;\n    }\n}\n\nSignalFxQueryCtrl.templateUrl = 'partials/query.editor.html';\nexport {SignalFxQueryCtrl};\n"]}